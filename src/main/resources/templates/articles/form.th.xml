<?xml version="1.0"?>
<thlogic>
    <attr sel="#header" th:replace="header :: header" />
    <attr sel="#footer" th:replace="footer :: footer" />

    <attr sel="#article-form-header/h1" th:text="${formStatus} ? '게시글 ' + ${formStatus.description} : _" />
    <attr sel="#article-form" th:action="${formStatus?.update} ? '/articles/' + ${article.id} + '/form' : '/articles/form'" th:method="post">
        <attr sel="#title" th:value="${article?.title} ?: _" />
        <attr sel="#content" th:text="${article?.content} ?: _" />
        <attr sel="#submit-button" th:text="${formStatus?.description} ?: _" />
        <attr sel="#cancel-button" th:onclick="'history.back()'" />
    </attr>

    <attr sel="meta[name='_csrf']" th:content="${_csrf.token}" />
    <attr sel="meta[name='_csrf_header']" th:content="${_csrf.headerName}" />

    <attr sel="#existing-files-section" th:if="${articleFiles != null and !articleFiles.isEmpty()}">
        <attr sel=".existing-file-item" th:each="file : ${articleFiles}">
            <attr sel="img" th:src="${file.s3Url}" th:alt="${file.originalFileName}" />
            <attr sel="button" th:onclick="'deleteExistingFile(' + ${file.id} + ')'" />
            <attr sel="small" th:text="${file.originalFileName}" th:title="${file.originalFileName}" />
        </attr>
    </attr>

    <attr sel="#existing-files-section" th:remove="${articleFiles == null or articleFiles.isEmpty()} ? 'all' : 'none'" />
</thlogic>